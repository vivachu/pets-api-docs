# V2 Gameplay

## Initialize Match

```shell
curl "https://api.parade.pet/v2/match/init"
  -H "Authorization: Bearer meowmeowmeow"
```

> The above command returns JSON structured like this:

```json
{
  "user": {
    "id": 104,
    "firstName": "Paula",
    "lastName": "Pickles",
    "fullName": "Paula Pickles",
    "initials": "PP",
    "profileImage": 713,
    "socialImageUrl": "https://graph.facebook.com/v2.7/10204723564482688/picture?height=100&width=100",
    "silverCoins": 23605,
    "goldCoins": 14096,
    "prizeTickets": 3000,
    "level": {
      "number": 0,
      "xp": 0,
      "xpToNextLevel": 100
    }
  },
  "myEntries": [
    {
      "name": "Stomper",
      "id": 43529,
      "image": 56892,
      "isAnimated": 0
    },
    {
      "name": "Stomper",
      "id": 20644,
      "image": 27855,
      "isAnimated": 0
    }
  ],
  "vsEntries": [
    {
      "userId": 172133,
      "firstName": "Kayla",
      "lastName": "Ellis",
      "profileImage": null,
      "socialImageUrl": "https://graph.facebook.com/v2.7/371922859901443/picture?height=100&width=100",
      "name": "Damian* and Bear",
      "id": 596961,
      "image": 808828,
      "isAnimated": 0
    },
    {
      "userId": 167818,
      "firstName": "Dave",
      "lastName": "Legault",
      "profileImage": null,
      "socialImageUrl": null,
      "name": "Bergy",
      "id": 596204,
      "image": 807886,
      "isAnimated": 0
    },
    {
      "userId": 177991,
      "firstName": "Danielle",
      "lastName": "Prescott",
      "profileImage": null,
      "socialImageUrl": "https://graph.facebook.com/v2.7/10213087280609563/picture?height=100&width=100",
      "name": "Ninja",
      "id": 595536,
      "image": 807071,
      "isAnimated": 0
    },
    {
      "userId": 178364,
      "firstName": "",
      "lastName": "Veronica Casias",
      "profileImage": null,
      "socialImageUrl": null,
      "name": "Rico / Pebbles",
      "id": 597041,
      "image": 808931,
      "isAnimated": 0
    },
    {
      "userId": 178343,
      "firstName": "Tammy",
      "lastName": "Damphier Murphy",
      "profileImage": null,
      "socialImageUrl": "https://graph.facebook.com/v2.7/10213711972409028/picture?height=100&width=100",
      "name": "Dusty",
      "id": 596940,
      "image": 808800,
      "isAnimated": 0
    }
  ],
  "params": [
    {
      "bestOf": 15,
      "entryFee": 100,
      "winnerGets": 10
    },
    {
      "bestOf": 25,
      "entryFee": 250,
      "winnerGets": 25
    },
    {
      "bestOf": 75,
      "entryFee": 500,
      "winnerGets": 50
    },
    {
      "bestOf": 125,
      "entryFee": 1000,
      "winnerGets": 100
    }
  ]
}
```

This endpoint returns all required datas to create a new User Match.

### HTTP Request

`GET https://api.parade.pet/v2/match/init`

### Header Parameters

Parameter | Required | Description
--------- | ------- | -----------
Authorization:  Bearer meowmeowmeow | true | Replace "meowmeowmeow" with the token of the authenticated user

<aside class="success">
Returns current user info, list of current user's entries, opponents entries, and list of User Match params.
</aside>

## Create User Match

```shell
curl "https://api.parade.pet/v2/match/create"
  -H "Authorization: Bearer meowmeowmeow"
  -d "entryA=1099"
  -d "entryB=2001"
  -d "bestOf=15"
  -d "entryFee=10"
  -d "winnerGets=100"
  -d "numFaceOffs=5"
  -d "pointsA=10"
  -d "pointsB=15"
```

> The above command returns JSON structured like this:

```json
{
  "id": 3,
  "entryA": 1099,
  "entryB": 2001,
  "bestOf": 15,
  "entryFee": 10,
  "winnerGets": 100,
  "numFaceOffs": 5,
  "pointsA": 10,
  "pointsB": 15,
  "user": 104
}
```

This endpoint will create a new user match.

### HTTP Request

`POST https://api.parade.pet/v2/match/create`

### Header Parameters

Parameter | Required | Description
--------- | ------- | -----------
Authorization:  Bearer meowmeowmeow | true | Replace "meowmeowmeow" with the token of the authenticated user

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
entryA | true | first entry's ID
entryB | true | second entry's ID
bestOf | true | match's bestOf param
entryFee | true | silverCoins amount fee to create the userMatch 
winnerGets | true | match's winnerGets param
numFaceOffs | true | number of faceoff
pointsA | true |
pointsB |true  |

<aside class="success">
The newly created User Match is returned.
</aside>

## Get User Match

```shell
curl "https://api.parade.pet/v2/match/:id"
  -H "Authorization: Bearer meowmeowmeow"
```

> The above command returns JSON structured like this:

```json
  {
    "bestOf": 1,
    "entryFee": 10,
    "winnerGets": 2,
    "numFaceOffs": 3,
    "pointsA": 10,
    "pointsB": 15,
    "winDate": null,
    "id": 1,
    "user": 104,
    "entryA": {
      "comments": [],
      "caption": "Fur baby",
      "numFaceOffs": 2,
      "numWins": 0,
      "numTreats": 40,
      "numPoints": 228,
      "numBoosts": 0,
      "numShares": 0,
      "state": 3,
      "isAnimated": false,
      "effect": null,
      "sound": null,
      "id": 2599,
      "image": 4855,
      "contest": 1,
      "owner": {
        "id": 104,
        "firstName": "Paula",
        "lastName": "Pickles",
        "fullName": "Paula Pickles",
        "initials": "PP",
        "profileImage": 713,
        "socialImageUrl": "https://graph.facebook.com/v2.7/10204723564482688/picture?height=100&width=100",
        "silverCoins": 23605,
        "goldCoins": 14096,
        "prizeTickets": 3000,
        "level": {
          "number": 0,
          "xp": 0,
          "xpToNextLevel": 100
        }
      },
      "pet": {
        "id": 242,
        "name": "Glen"
      },
      "entryFee": 10,
      "activeBoost": null,
      "location": 824
    },
    "entryB": {
      "comments": [],
      "caption": "Baby stomp",
      "numFaceOffs": 3229,
      "numWins": 1625,
      "numTreats": 42,
      "numPoints": 16570,
      "numBoosts": 4,
      "numShares": 0,
      "state": 1,
      "isAnimated": false,
      "effect": null,
      "sound": null,
      "id": 4699,
      "image": 8012,
      "contest": 1,
      "owner": {
        "id": 104,
        "firstName": "Paula",
        "lastName": "Pickles",
        "fullName": "Paula Pickles",
        "initials": "PP",
        "profileImage": 713,
        "socialImageUrl": "https://graph.facebook.com/v2.7/10204723564482688/picture?height=100&width=100",
        "silverCoins": 23605,
        "goldCoins": 14096,
        "prizeTickets": 3000,
        "level": {
          "number": 0,
          "xp": 0,
          "xpToNextLevel": 100
        }
      },
      "pet": {
        "id": 136,
        "name": "Stomper"
      },
      "entryFee": 50,
      "activeBoost": 21548,
      "location": 824
    },
    "winner": null
  }
```

This endpoint returns the specified User Match. 

### HTTP Request

`GET https://api.parade.pet/v2/match/:id`

### Header Parameters

Parameter | Required | Description
--------- | ------- | -----------
Authorization:  Bearer meowmeowmeow | true | Replace "meowmeowmeow" with the token of the authenticated user

### Query Parameters

Parameter | Required | Description
--------- | ------- | -----------
id | true | User Match ID value, passed in the url path

<aside class="success">
Returns User Match object.
</aside>


## Get My User Matches

```shell
curl "https://api.parade.pet/v2/match/my"
  -H "Authorization: Bearer meowmeowmeow"
```

> The above command returns JSON structured like this:

```json
[
  {
    "bestOf": 1,
    "entryFee": 10,
    "winnerGets": 2,
    "numFaceOffs": 3,
    "pointsA": 10,
    "pointsB": 15,
    "winDate": null,
    "id": 1,
    "user": 104,
    "entryA": {
      "comments": [],
      "caption": "Fur baby",
      "numFaceOffs": 2,
      "numWins": 0,
      "numTreats": 40,
      "numPoints": 228,
      "numBoosts": 0,
      "numShares": 0,
      "state": 3,
      "isAnimated": false,
      "effect": null,
      "sound": null,
      "id": 2599,
      "image": 4855,
      "contest": 1,
      "owner": {
        "id": 104,
        "firstName": "Paula",
        "lastName": "Pickles",
        "fullName": "Paula Pickles",
        "initials": "PP",
        "profileImage": 713,
        "socialImageUrl": "https://graph.facebook.com/v2.7/10204723564482688/picture?height=100&width=100",
        "silverCoins": 23605,
        "goldCoins": 14096,
        "prizeTickets": 3000,
        "level": {
          "number": 0,
          "xp": 0,
          "xpToNextLevel": 100
        }
      },
      "pet": {
        "id": 242,
        "name": "Glen"
      },
      "entryFee": 10,
      "activeBoost": null,
      "location": 824
    },
    "entryB": {
      "comments": [],
      "caption": "Baby stomp",
      "numFaceOffs": 3229,
      "numWins": 1625,
      "numTreats": 42,
      "numPoints": 16570,
      "numBoosts": 4,
      "numShares": 0,
      "state": 1,
      "isAnimated": false,
      "effect": null,
      "sound": null,
      "id": 4699,
      "image": 8012,
      "contest": 1,
      "owner": {
        "id": 104,
        "firstName": "Paula",
        "lastName": "Pickles",
        "fullName": "Paula Pickles",
        "initials": "PP",
        "profileImage": 713,
        "socialImageUrl": "https://graph.facebook.com/v2.7/10204723564482688/picture?height=100&width=100",
        "silverCoins": 23605,
        "goldCoins": 14096,
        "prizeTickets": 3000,
        "level": {
          "number": 0,
          "xp": 0,
          "xpToNextLevel": 100
        }
      },
      "pet": {
        "id": 136,
        "name": "Stomper"
      },
      "entryFee": 50,
      "activeBoost": 21548,
      "location": 824
    },
    "winner": null
  }
]
```

This endpoint returns a list of current user's User Matches.

### HTTP Request

`GET http://api.parade.pet/v2/match/my`

### Header Parameters

Parameter | Required | Description
--------- | ------- | -----------
Authorization:  Bearer meowmeowmeow | true | Replace "meowmeowmeow" with the token of the authenticated user

<aside class="success">
Returns an array of current user's User Match object.
</aside>
